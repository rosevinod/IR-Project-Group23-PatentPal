function imgError(image){image.onerror="";image.src="/static/images/misc/image_error_64.png";return true;}
function prepare_input(input){input=input.replace('x','*');input=input.replace('X','*');input=input.replace('^','**');return input;}
function calculate(){var sol=$("#solution");try{var value=$("#calc").val();var x=eval(prepare_input(value));sol.html(x);}catch(err){sol.html("");}}
function update_monetization_meta(pointer){var monetizationTag=document.querySelector('meta[name="monetization"]');monetizationTag.content=pointer;}
function run_web_editor(){$('#eval_results').html('<style>'+$('#css_code').val()+'</style>'+$('#html_code').val()+'<script>'+$('#js_code').val()+'<'+'/script>');}
function baseConverter(input){var leftBaseInput=$("#left-base-input");var rightBaseInput=$("#right-base-input");var leftBaseSelect=parseInt($("#left-base-select").val());var rightBaseSelect=parseInt($("#right-base-select").val());if(input){rightBaseInput.val(parseInt(leftBaseInput.val(),leftBaseSelect).toString(rightBaseSelect));if(leftBaseInput.val()===""||rightBaseInput.val()==="NaN"){rightBaseInput.val("");}}else{leftBaseInput.val(parseInt(rightBaseInput.val(),rightBaseSelect).toString(leftBaseSelect));if(rightBaseInput.val()===""||leftBaseInput.val()==="NaN"){leftBaseInput.val("");}}}
var advancedSearchPanel=$("#advanced_search_panel");$("#advanced_search_button").click(function(){if(advancedSearchPanel.is(":hidden")){advancedSearchPanel.slideDown();}else{advancedSearchPanel.slideUp();}});var advancedSearchWordsTab=$("#advanced_search_words_tab");var advancedSearchWordsParameters=$("#advanced_search_parameters_tab");var groupWords=$("#group-words");var groupDomains=$("#group-domains");var groupParameters=$("#group-parameters");advancedSearchWordsTab.click(function(){advancedSearchWordsTab.addClass("is-active");advancedSearchWordsParameters.removeClass("is-active");groupWords.css("display","block");groupParameters.css("display","none");});advancedSearchWordsParameters.click(function(){advancedSearchWordsTab.removeClass("is-active");advancedSearchWordsParameters.addClass("is-active");groupWords.css("display","none");groupParameters.css("display","block");});var inTabEditMode=false;function customTabPageToggle(){var results=$("#results");var customTabPage=$("#id-custom-tab-page");var customTab=$("#id-custom-tab");if(results.is(":hidden")){customTabPage.slideUp("slow",function(){results.slideDown("slow")});customTab.removeClass("is-active");inTabEditMode=false;}else{results.slideUp("slow",function(){customTabPage.slideDown("slow")});$(".is-active:first").removeClass("is-active")
customTab.addClass("is-active");inTabEditMode=true;}
populateResultsTab();}
var customTabsList=document.getElementById("id-current-tab-list");Sortable.create(customTabsList,{handle:'.handle',animation:500,onEnd:function(){updateTabs();}});function populateResultsTab(){var customTabsInfo=JSON.parse(localStorage.getItem("infinity_custom_tabs"));if(customTabsInfo==undefined){customTabsInfo=["web","images","videos","homepages","food","books"];}
var tabul=$("#id-results-tabs");var activeString=null;var tabString="";var tabIterator="";var changeTabString="";var curr=getCurrentTab();tabul.html("");for(var i=0;i<customTabsInfo.length;++i){tabIterator=customTabsInfo[i];activeString=(tabIterator===curr?"is-active":"")+(i===0||(i===0&&!customTabsInfo.includes(curr))?" first-tab":"");tabString=tabIterator==="web"?"":("/"+tabIterator);changeTabString="change_tab('/results"+tabString+"?q=')";tabul.append("<li class='"+activeString+"'><a class='is-capitalized' onclick="+changeTabString+">"+tabIterator.replace('_',' ')+"</a></li>");}
if(inTabEditMode===false&&!customTabsInfo.includes(curr)){tabul.append("<li class='is-active'><a class='is-capitalized' onclick=\"change_tab('/results' + curr + '?q=');\">"+curr+"</a></li>");}
tabul.append("<li id='id-custom-tab'><a onclick='customTabPageToggle();'>+ -</a></li>");if(inTabEditMode===true){$("#id-custom-tab").addClass('is-active');}else{$("#id-custom-tab").removeClass('is-active');}}
function setTabsListFromLocalStorage(){var customTabsInfo=JSON.parse(localStorage.getItem("infinity_custom_tabs"));if(customTabsInfo==undefined){customTabsInfo=["web","images","videos","homepages","food","books"];}
for(var i=0;i<customTabsInfo.length;++i){$("#id-current-tab-list").append("<nav class='level is-mobile' id='id-"+customTabsInfo[i]+"-tab'>"+"           <div class='level-item has-text-centered is-capitalized'>"+customTabsInfo[i]+"</div>"+"               <div class='level-item has-text-centered is-one-quarter'>"+"                    <div style='order: 2; margin-left: auto; margin-right: .5rem'>"+"                        <img class='handle fa-ellipsis-v' src='/static/images/fa/ellipsis-v.svg'"+"                             style='cursor:pointer; min-width: .5em; width: 16px; height: 16px;'>"+"                        <img class='handle trash' src='/static/images/fa/trash-alt.svg' "+"                             id='id-remove-tab-icon-"+customTabsInfo[i]+"'"+"                             style='cursor:pointer; min-width: .5em; width: 16px; height: 16px; margin-left: .5rem;' onclick='removeTab(this);'>"+"                    </div>"+"                </div>"+"            </nav>");}}
function updateTabs(){var listInfo=[];for(var i=1;i<$("#id-current-tab-list").children().length+1;++i){var tabName=$("#id-current-tab-list nav:nth-child("+i+")").attr("id").split('-')[1]
listInfo.push(tabName);}
$("#id-add-tab-selector option").each(function(){if(listInfo.includes($(this).val())){$('#id-tab-selector-'+$(this).val()).hide();}
else{$('#id-tab-selector-'+$(this).val()).show();}});localStorage.setItem("infinity_custom_tabs",JSON.stringify(listInfo));populateResultsTab();}
function resetTabsToOriginal(){if(window.confirm("Are you sure?\nThis will reset your tabs back to our defaults.")){document.getElementById('id-current-tab-list').innerHTML='';var customTabsInfo=["web","images","videos","homepages","food","books"];for(var i=0;i<customTabsInfo.length;++i){$("#id-current-tab-list").append("<nav class='level is-mobile' id='id-"+customTabsInfo[i]+"-tab'>"+"           <div class='level-item has-text-centered is-capitalized'>"+customTabsInfo[i]+"</div>"+"               <div class='level-item has-text-centered is-one-quarter'>"+"                    <div style='order: 2; margin-left: auto; margin-right: .5rem'>"+"                        <img class='handle fa-ellipsis-v' src='/static/images/fa/ellipsis-v.svg'"+"                             style='cursor:pointer; min-width: .5em; width: 16px; height: 16px;'>"+"                        <img class='handle trash' src='/static/images/fa/trash-alt.svg' "+"                             id='id-remove-tab-icon-"+customTabsInfo[i]+"'"+"                             style='cursor:pointer; min-width: .5em; width: 16px; height: 16px; margin-left: .5rem;' onclick='removeTab(this);'>"+"                    </div>"+"                </div>"+"            </nav>");}
updateTabs();}}
function addTab(){var newTabVal=$("#id-add-tab-selector").val();var customTabsInfo=JSON.parse(localStorage.getItem("infinity_custom_tabs"));if(customTabsInfo===undefined){customTabsInfo=["web","images","videos","homepages","food","books"];}
if(customTabsInfo.includes(newTabVal)){$('#id-custom-tabs-error').html("<div class='column'><div class='notification is-normal' id='id-custom-tabs-error-btn' style='text-align: left'><button class='delete' onclick=\"document.getElementById('id-custom-tabs-error-btn').hidden=true;\"></button>This tab already exists in your list!</div></div>")
return;}
$("#id-current-tab-list").append("<nav class='level is-mobile' id='id-"+newTabVal+"-tab'>"+"           <div class='level-item has-text-centered is-capitalized'>"+newTabVal+"</div>"+"               <div class='level-item has-text-centered is-one-quarter'>"+"                    <div style='order: 2; margin-left: auto; margin-right: .5rem'>"+"                        <img class='handle fa-ellipsis-v' src='/static/images/fa/ellipsis-v.svg'"+"                             style='cursor:pointer; min-width: .5em; width: 16px; height: 16px;'>"+"                        <img class='handle trash' src='/static/images/fa/trash-alt.svg'"+"                             id='id-remove-tab-icon-"+newTabVal+"'"+"                             style='cursor:pointer; min-width: .5em; width: 16px; height: 16px; margin-left: .5rem;' onclick='removeTab(this);'>"+"                    </div>"+"                </div>"+"            </nav>");updateTabs();}
function removeTab(tab_element){var customTabsInfo=JSON.parse(localStorage.getItem("infinity_custom_tabs"));if(customTabsInfo.length===1){$('#id-custom-tabs-error').html("<div class='column'><div class='notification is-normal' id='id-custom-tabs-error-btn' style='text-align: left'><button class='delete' onclick=\"document.getElementById('id-custom-tabs-error-btn').hidden=true;\"></button>At least one tab is required</div></div>")
return}
$("#id-"+tab_element.id.split('-')[4]+"-tab").remove();updateTabs();}
setTabsListFromLocalStorage();populateResultsTab();updateTabs();